<div class="form-container">
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <form [formGroup]="createProductForm" (submit)="onSavePost()" *ngIf="!isLoading">
        <div class="mat-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Product Title</mat-label>
                <input matInput type="text" formControlName="title" placeholder="Product Title">
                <mat-error *ngIf="createProductForm.get('title')?.invalid">Please enter a product title</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Product Description</mat-label>
                <input matInput type="text" formControlName="description" placeholder="Product Description">
                <mat-error *ngIf="createProductForm.get('description')?.invalid">Please enter a product description</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Product Price</mat-label>
                <input matInput type="number" formControlName="price" placeholder="Product Price">
                <mat-error *ngIf="createProductForm.get('price')?.invalid">Please enter a product price</mat-error>
            </mat-form-field>
        </div>
        <div class="image-contorl">
            <div class="image-preview-wrapper">
                <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && createProductForm.get('image')?.valid">
                    <img [src]="imagePreview" [alt]="createProductForm.get('title')?.value">
                </div>
            </div>
            <div class="image-picker">
                <button mat-stroked-button type="button" (click)="filePicker.click()">Pick Image</button>
                <input type="file" #filePicker hidden (change)="onImagePicked($event)">
            </div>
        </div>
        

        <button mat-raised-button class="save-button" color="primary" type="submit">Save Product</button>
    </form>
</div>
